<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.9">
  <diagram id="aroinKeuY3PfjN7iFlET" name="Trang-1">
    <mxGraphModel dx="1042" dy="574" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-1" value="&lt;h2 data-start=&quot;227&quot; data-end=&quot;278&quot;&gt; &lt;strong data-start=&quot;233&quot; data-end=&quot;278&quot;&gt;1. Kiến trúc tổng thể của hệ thống bán lẻ&lt;/strong&gt;&lt;/h2&gt;&lt;br&gt;&lt;p data-start=&quot;280&quot; data-end=&quot;451&quot;&gt;Hệ thống được thiết kế theo mô hình &lt;strong data-start=&quot;316&quot; data-end=&quot;361&quot;&gt;kiến trúc phân lớp (Layered Architecture)&lt;/strong&gt; và &lt;strong data-start=&quot;365&quot; data-end=&quot;423&quot;&gt;tích hợp dịch vụ ngoài (External Services Integration)&lt;/strong&gt;, giúp dễ bảo trì – mở rộng.&lt;/p&gt;&lt;br&gt;&lt;h3 data-start=&quot;458&quot; data-end=&quot;504&quot;&gt;&lt;strong data-start=&quot;465&quot; data-end=&quot;504&quot;&gt;Các thành phần chính trong hệ thống&lt;/strong&gt;&lt;/h3&gt;&lt;br&gt;&lt;div class=&quot;_tableContainer_1rjym_1&quot;&gt;&lt;div tabindex=&quot;-1&quot; class=&quot;group _tableWrapper_1rjym_13 flex w-fit flex-col-reverse&quot;&gt;&lt;table data-start=&quot;506&quot; data-end=&quot;1205&quot; class=&quot;w-fit min-w-(--thread-content-width)&quot;&gt;&lt;thead data-start=&quot;506&quot; data-end=&quot;540&quot;&gt;&lt;tr data-start=&quot;506&quot; data-end=&quot;540&quot;&gt;&lt;th data-start=&quot;506&quot; data-end=&quot;519&quot; data-col-size=&quot;sm&quot;&gt;Thành phần&lt;/th&gt;&lt;th data-start=&quot;519&quot; data-end=&quot;529&quot; data-col-size=&quot;md&quot;&gt;Vai trò&lt;/th&gt;&lt;th data-start=&quot;529&quot; data-end=&quot;540&quot; data-col-size=&quot;md&quot;&gt;Ghi chú&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody data-start=&quot;578&quot; data-end=&quot;1205&quot;&gt;&lt;tr data-start=&quot;578&quot; data-end=&quot;742&quot;&gt;&lt;td data-start=&quot;578&quot; data-end=&quot;624&quot; data-col-size=&quot;sm&quot;&gt;&lt;strong data-start=&quot;580&quot; data-end=&quot;623&quot;&gt;1. Presentation Layer (Web / Mobile UI)&lt;/strong&gt;&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;624&quot; data-end=&quot;698&quot;&gt;Giao diện cho người dùng thao tác (xem sản phẩm, đặt hàng, thanh toán).&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;698&quot; data-end=&quot;742&quot;&gt;HTML/CSS/JS, React, Angular hoặc Flutter&lt;/td&gt;&lt;/tr&gt;&lt;tr data-start=&quot;743&quot; data-end=&quot;944&quot;&gt;&lt;td data-start=&quot;743&quot; data-end=&quot;787&quot; data-col-size=&quot;sm&quot;&gt;&lt;strong data-start=&quot;745&quot; data-end=&quot;786&quot;&gt;2. Application / Business Logic Layer&lt;/strong&gt;&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;787&quot; data-end=&quot;855&quot;&gt;Xử lý logic nghiệp vụ bán hàng, tồn kho, thanh toán và gửi email.&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;855&quot; data-end=&quot;944&quot;&gt;Chứa các module: &lt;code data-start=&quot;874&quot; data-end=&quot;888&quot;&gt;OrderService&lt;/code&gt;, &lt;code data-start=&quot;890&quot; data-end=&quot;908&quot;&gt;InventoryService&lt;/code&gt;, &lt;code data-start=&quot;910&quot; data-end=&quot;926&quot;&gt;PaymentService&lt;/code&gt;, &lt;code data-start=&quot;928&quot; data-end=&quot;942&quot;&gt;EmailService&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-start=&quot;945&quot; data-end=&quot;1065&quot;&gt;&lt;td data-start=&quot;945&quot; data-end=&quot;972&quot; data-col-size=&quot;sm&quot;&gt;&lt;strong data-start=&quot;947&quot; data-end=&quot;971&quot;&gt;3. Data Access Layer&lt;/strong&gt;&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;972&quot; data-end=&quot;1025&quot;&gt;Quản lý truy xuất dữ liệu từ cơ sở dữ liệu (CRUD).&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;1025&quot; data-end=&quot;1065&quot;&gt;Repository / DAO (MySQL, PostgreSQL)&lt;/td&gt;&lt;/tr&gt;&lt;tr data-start=&quot;1066&quot; data-end=&quot;1205&quot;&gt;&lt;td data-start=&quot;1066&quot; data-end=&quot;1110&quot; data-col-size=&quot;sm&quot;&gt;&lt;strong data-start=&quot;1068&quot; data-end=&quot;1109&quot;&gt;4. External Services (Tích hợp ngoài)&lt;/strong&gt;&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;1110&quot; data-end=&quot;1167&quot;&gt;Các dịch vụ ngoài hệ thống, kết nối qua API hoặc SMTP.&lt;/td&gt;&lt;td data-col-size=&quot;md&quot; data-start=&quot;1167&quot; data-end=&quot;1205&quot;&gt;&lt;code data-start=&quot;1169&quot; data-end=&quot;1180&quot;&gt;VNPay API&lt;/code&gt;, &lt;code data-start=&quot;1182&quot; data-end=&quot;1203&quot;&gt;SMTP Server (Email)&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;hr data-start=&quot;1207&quot; data-end=&quot;1210&quot;&gt;&lt;br&gt;&lt;h2 data-start=&quot;1212&quot; data-end=&quot;1247&quot;&gt;&lt;strong data-start=&quot;1218&quot; data-end=&quot;1247&quot;&gt;2. Mô tả các module chính&lt;/strong&gt;&lt;/h2&gt;&lt;h3 data-start=&quot;1249&quot; data-end=&quot;1281&quot;&gt;&lt;strong data-start=&quot;1256&quot; data-end=&quot;1281&quot;&gt;1. Presentation Layer&lt;/strong&gt;&lt;/h3&gt;&lt;ul data-start=&quot;1282&quot; data-end=&quot;1463&quot;&gt;&lt;li data-start=&quot;1282&quot; data-end=&quot;1331&quot;&gt;&lt;p data-start=&quot;1284&quot; data-end=&quot;1331&quot;&gt;Giao diện web hoặc mobile app cho khách hàng.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1332&quot; data-end=&quot;1463&quot;&gt;&lt;p data-start=&quot;1334&quot; data-end=&quot;1371&quot;&gt;Gửi yêu cầu (REST API) đến server để:&lt;/p&gt;&lt;ul data-start=&quot;1374&quot; data-end=&quot;1463&quot;&gt;&lt;li data-start=&quot;1374&quot; data-end=&quot;1399&quot;&gt;&lt;p data-start=&quot;1376&quot; data-end=&quot;1399&quot;&gt;Xem danh sách sản phẩm.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1402&quot; data-end=&quot;1425&quot;&gt;&lt;p data-start=&quot;1404&quot; data-end=&quot;1425&quot;&gt;Thực hiện thanh toán.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1428&quot; data-end=&quot;1463&quot;&gt;&lt;p data-start=&quot;1430&quot; data-end=&quot;1463&quot;&gt;Nhận thông báo xác nhận đơn hàng.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-start=&quot;1465&quot; data-end=&quot;1541&quot;&gt;&lt;strong data-start=&quot;1468&quot; data-end=&quot;1484&quot;&gt;Kết nối đến:&lt;/strong&gt; Application Layer thông qua API Gateway hoặc Controller.&lt;/p&gt;&lt;br&gt;&lt;h3 data-start=&quot;1548&quot; data-end=&quot;1596&quot;&gt;&lt;strong data-start=&quot;1555&quot; data-end=&quot;1596&quot;&gt;2. Application / Business Logic Layer&lt;/strong&gt;&lt;/h3&gt;&lt;ul data-start=&quot;1597&quot; data-end=&quot;1877&quot;&gt;&lt;li data-start=&quot;1597&quot; data-end=&quot;1651&quot;&gt;&lt;p data-start=&quot;1599&quot; data-end=&quot;1651&quot;&gt;&lt;strong data-start=&quot;1599&quot; data-end=&quot;1616&quot;&gt;OrderService:&lt;/strong&gt; Xử lý đơn hàng, xác nhận đặt hàng.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1652&quot; data-end=&quot;1722&quot;&gt;&lt;p data-start=&quot;1654&quot; data-end=&quot;1722&quot;&gt;&lt;strong data-start=&quot;1654&quot; data-end=&quot;1675&quot;&gt;InventoryService:&lt;/strong&gt; Kiểm tra và cập nhật tồn kho khi có giao dịch.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1723&quot; data-end=&quot;1794&quot;&gt;&lt;p data-start=&quot;1725&quot; data-end=&quot;1794&quot;&gt;&lt;strong data-start=&quot;1725&quot; data-end=&quot;1744&quot;&gt;PaymentService:&lt;/strong&gt; Gọi API &lt;strong data-start=&quot;1753&quot; data-end=&quot;1762&quot;&gt;VNPay&lt;/strong&gt; để xử lý thanh toán trực tuyến.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1795&quot; data-end=&quot;1877&quot;&gt;&lt;p data-start=&quot;1797&quot; data-end=&quot;1877&quot;&gt;&lt;strong data-start=&quot;1797&quot; data-end=&quot;1814&quot;&gt;EmailService:&lt;/strong&gt; Gửi email xác nhận qua &lt;strong data-start=&quot;1838&quot; data-end=&quot;1846&quot;&gt;SMTP&lt;/strong&gt; sau khi thanh toán thành công.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-start=&quot;1879&quot; data-end=&quot;1898&quot;&gt;&lt;strong data-start=&quot;1882&quot; data-end=&quot;1898&quot;&gt;Kết nối đến:&lt;/strong&gt;&lt;/p&gt;&lt;ul data-start=&quot;1899&quot; data-end=&quot;1991&quot;&gt;&lt;li data-start=&quot;1899&quot; data-end=&quot;1941&quot;&gt;&lt;p data-start=&quot;1901&quot; data-end=&quot;1941&quot;&gt;Tầng &lt;strong data-start=&quot;1906&quot; data-end=&quot;1921&quot;&gt;Data Access&lt;/strong&gt; để đọc/ghi dữ liệu.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;1942&quot; data-end=&quot;1991&quot;&gt;&lt;p data-start=&quot;1944&quot; data-end=&quot;1991&quot;&gt;Dịch vụ &lt;strong data-start=&quot;1952&quot; data-end=&quot;1965&quot;&gt;VNPay API&lt;/strong&gt; và &lt;strong data-start=&quot;1969&quot; data-end=&quot;1990&quot;&gt;SMTP Email Server&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-start=&quot;1998&quot; data-end=&quot;2029&quot;&gt;&lt;strong data-start=&quot;2005&quot; data-end=&quot;2029&quot;&gt;3. Data Access Layer&lt;/strong&gt;&lt;/h3&gt;&lt;ul data-start=&quot;2030&quot; data-end=&quot;2219&quot;&gt;&lt;li data-start=&quot;2030&quot; data-end=&quot;2091&quot;&gt;&lt;p data-start=&quot;2032&quot; data-end=&quot;2091&quot;&gt;&lt;strong data-start=&quot;2032&quot; data-end=&quot;2054&quot;&gt;ProductRepository:&lt;/strong&gt; Quản lý dữ liệu sản phẩm và tồn kho.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2092&quot; data-end=&quot;2163&quot;&gt;&lt;p data-start=&quot;2094&quot; data-end=&quot;2163&quot;&gt;&lt;strong data-start=&quot;2094&quot; data-end=&quot;2114&quot;&gt;OrderRepository:&lt;/strong&gt; Lưu thông tin đơn hàng và trạng thái thanh toán.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2164&quot; data-end=&quot;2219&quot;&gt;&lt;p data-start=&quot;2166&quot; data-end=&quot;2219&quot;&gt;&lt;strong data-start=&quot;2166&quot; data-end=&quot;2189&quot;&gt;CustomerRepository:&lt;/strong&gt; Quản lý thông tin khách hàng.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-start=&quot;2221&quot; data-end=&quot;2321&quot;&gt;&lt;strong data-start=&quot;2224&quot; data-end=&quot;2242&quot;&gt;Cơ sở dữ liệu:&lt;/strong&gt; MySQL / PostgreSQL&lt;br data-start=&quot;2261&quot; data-end=&quot;2264&quot;&gt;&lt;br&gt;&lt;strong data-start=&quot;2267&quot; data-end=&quot;2289&quot;&gt;Kết nối thông qua:&lt;/strong&gt; ORM (JPA, Hibernate) hoặc JDBC.&lt;/p&gt;&lt;p data-start=&quot;2221&quot; data-end=&quot;2321&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h3 data-start=&quot;2328&quot; data-end=&quot;2359&quot;&gt;&lt;strong data-start=&quot;2335&quot; data-end=&quot;2359&quot;&gt;4. External Services&lt;/strong&gt;&lt;/h3&gt;&lt;h4 data-start=&quot;2360&quot; data-end=&quot;2381&quot;&gt;&lt;strong data-start=&quot;2368&quot; data-end=&quot;2381&quot;&gt;&amp;nbsp;VNPay API&lt;/strong&gt;&lt;/h4&gt;&lt;ul data-start=&quot;2382&quot; data-end=&quot;2528&quot;&gt;&lt;li data-start=&quot;2382&quot; data-end=&quot;2421&quot;&gt;&lt;p data-start=&quot;2384&quot; data-end=&quot;2421&quot;&gt;Cung cấp giao diện thanh toán online.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2422&quot; data-end=&quot;2474&quot;&gt;&lt;p data-start=&quot;2424&quot; data-end=&quot;2474&quot;&gt;Giao tiếp thông qua giao thức HTTPS (RESTful API).&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2475&quot; data-end=&quot;2528&quot;&gt;&lt;p data-start=&quot;2477&quot; data-end=&quot;2528&quot;&gt;Trả về trạng thái thanh toán (&lt;code data-start=&quot;2507&quot; data-end=&quot;2516&quot;&gt;success&lt;/code&gt;, &lt;code data-start=&quot;2518&quot; data-end=&quot;2526&quot;&gt;failed&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-start=&quot;2530&quot; data-end=&quot;2559&quot;&gt;&lt;strong data-start=&quot;2538&quot; data-end=&quot;2559&quot;&gt;SMTP Email Server&lt;/strong&gt;&lt;/h4&gt;&lt;ul data-start=&quot;2560&quot; data-end=&quot;2717&quot;&gt;&lt;li data-start=&quot;2560&quot; data-end=&quot;2609&quot;&gt;&lt;p data-start=&quot;2562&quot; data-end=&quot;2609&quot;&gt;Dùng để gửi email xác nhận đơn hàng thành công.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2610&quot; data-end=&quot;2675&quot;&gt;&lt;p data-start=&quot;2612&quot; data-end=&quot;2675&quot;&gt;Kết nối qua giao thức &lt;strong data-start=&quot;2634&quot; data-end=&quot;2674&quot;&gt;SMTP (Simple Mail Transfer Protocol)&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;2676&quot; data-end=&quot;2717&quot;&gt;&lt;p data-start=&quot;2678&quot; data-end=&quot;2717&quot;&gt;Ví dụ: Gmail SMTP, SendGrid, Mailgun...&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="165" width="550" height="1374" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-2" value="Presentation Layer&#xa;(Web / Mobile UI)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="184" y="1450" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-3" value="Business Logic Layer&#xa;(OrderService, InventoryService, PaymentService, EmailService)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="184" y="1570" width="320" height="100" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-4" value="Data Access Layer&#xa;(Repositories, Database)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="184" y="1710" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-5" value="External Service&#xa;VNPay API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="544" y="1570" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-6" value="External Service&#xa;SMTP Email Server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="544" y="1650" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#333333;" edge="1" parent="1" source="E6JfPAhhM3ie1NKr0wuF-2" target="E6JfPAhhM3ie1NKr0wuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#333333;" edge="1" parent="1" source="E6JfPAhhM3ie1NKr0wuF-3" target="E6JfPAhhM3ie1NKr0wuF-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;dashed=1;strokeColor=#ff0000;" edge="1" parent="1" source="E6JfPAhhM3ie1NKr0wuF-3" target="E6JfPAhhM3ie1NKr0wuF-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E6JfPAhhM3ie1NKr0wuF-10" style="edgeStyle=orthogonalEdgeStyle;rounded=1;dashed=1;strokeColor=#ff0000;" edge="1" parent="1" source="E6JfPAhhM3ie1NKr0wuF-3" target="E6JfPAhhM3ie1NKr0wuF-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
